# Injector.NET Version History
- 0.0.1: Initial release
- 0.0.2:
  - *added:* `IServiceInfo.Factory` property
  - *added:* `IInjectorExtensions.Proxy()` overload
  - *added:* `ServiceAttribute` and `ConfigFromAssembly` classes
  - *added:* `ServiceActivatorAttribute` class
  - *fixed:* Multiple type resolver invocation issue
  - *fixed:* `IInjectorExtensions.Instance()` should not dispose the instance by default
  - *done:* Some code optimization
- 0.0.3:
  - *added:* `IInjector.Instantiate()` method
- 1.0.0-preview1:
  - *rewritten:* Core
  - *added:* Service containers
  - *added:* `Scoped` lifetime
  - *added:* Lazy dependency resolution support
  - *added:* Extension based architecture
  - *added:* Own interface proxy implementation
  - *added:* Duck typing support
  - *added:* Abstract service recipe
  - *added:* `LazyTypeResolver` class
  - *using:* [semantic versioning](https://semver.org/ )
- 1.0.0-preview2:
  - *added:* `IInjectorExtensions.ShouldRelease()` method
  - *added:* Nuget icon
  - *updated:* Performance tests
- 1.0.0-preview3:
  - *added:* NETStandard2.1 target
  - *added:* Extensible "auto config"
  - *added:* `ProxyFactory.Create()` non generic overloads
  - *removed:* Some TODOs
  - *fixed:* Possible missing reference error during proxy generation
  - *done:* `IInjector.Instantiate()` is an extension from now
- 1.0.0-preview4:
  - *rewritten:* Build system
  - *added:* Named service support
  - *added:* `CircularReferenceException` (previously on CR an `InvalidOperationException` was thrown) 
  - *fixed:* Generic service entry having factory could not be specialized
  - *fixed:* `Composite` child could not be disposed in certain cases
  - *fixed:* Singleton service related dependency resolution issue
- 1.0.0-preview5:
  - *added:* `Transient` services are also released on injector disposal (if they have not been disposed programmatically)
  - *added:* `ObjectExtensions.Act()` can be called against interfaces
  - *added:* `ProxyGenerator` supports `in` parameter modifier (introduced in C# 7.2)
  - *fixed:* Ambiguous field naming in `ProxyGenerator`
  - *renamed:* `QueryOptionsAttribute` to `OptionsAttribute`
  - *renamed:* `QueryMode` to `QueryModes`
- 1.0.0-preview6:
  - *added:* `ProxyGenerator` supports `params` parameter modifier
  - *removed:* `IInjector` events
  - *removed:* Support for manually disposing `Transient` services
  - *removed:* `IInjectorExtensions.ShouldRelease()`
  - *fixed:* Service never gets disposed till all its dependants are disposed
- 1.0.0-preview7:
  - *added:* `Injector.config` (netstandard2+)
  - *removed:* `IInjector.LifetimeOf()`
  - *fixed:*  Some missing reference cleanup
  - *renamed:* Namespace `Solti.Utils.DI.Proxy` -> `Solti.Utils.Proxy`
  - *done:* Proxy related logic moved to separate assembly
- 1.0.0:
  - *updated:* Dependencies
- 1.1.0:
  - *added:* Some `ProxyFactory.Create()` overload
  - *added:* `IInjector.UnderlyingContainer`
  - *updated:* Dependencies
- 1.2.0-preview1:
  - *added:* Strict DI support (disabled by default, to enable set `StrictDI` to true in `Injector.config.json`)
  - *added:* `IServiceContainerExtensions.Lazy()` overloads
  - *fixed:* Wrong injector could be passed to the constructor of Singleton service
  - *implemented:* `AbstractServiceEntry.ToString()`
  - *changed:* `Injector.config.json` layout
  - *updated:* Dependencies
- 1.2.0:
  - *fixed:* In some cases, injector could be created with abstract entries
- 1.3.0-preview1:
  - *added:* `ServiceNotFoundException.Data` contains the requestor name (if available)
  - *added:* `IServiceContainerExtensions.CreateProvider()` method ([MS](https://docs.microsoft.com/en-us/dotnet/api/system.iserviceprovider?view=netcore-3.1 ) preferred DI)
  - *fixed:* Proper resource cleanup if a service factory throws ([details](https://github.com/Sholtee/injector/commit/ec56f8749fb16207f10e7712812f4ef0e605be32 ))
  - *fixed:* Wrong retval of `AbstractServiceEntry.ToString()` ([details](https://github.com/Sholtee/injector/commit/9b6f333f61504d5a79bf25ddb7197d74664acb02 ))
  - *fixed:* Missing `Dispose()` call in `ServiceContainer.Get()` ([details](https://github.com/Sholtee/injector/commit/cdb76751bcce2547caded2853d5a03fd17844d10 ))
- 1.3.0-preview2:
  - *added:* `IServiceProviderExtensions` class
  - *added:* `IInjector.TryGet()` method
  - *added:* `OptionsAttribute.Optional` property
  - *changed:* Requestor name was replaced with the request chain in `ServiceNotFoundException.Data`
  - *done:* Modularized `Injector` (that's why we are still in preview)
  - *fixed:* Circular references could not be found (in certain circumstances)
- 1.3.0:
  - *done:* Rewritten `ServiceContainer.[Add|Get]` with performance in mind
  - *reviewed:* Validations
- 1.3.1:
  - *fixed:* `IServiceProvider.GetService()`: Singleton service could not be instantiated if it had a missing dependency ([details](https://github.com/Sholtee/injector/commit/8a9fbe8ac3704972a2f0b4300425f27dd35c3f45 ))
  - *done*: `IServiceContainer.CreateChild()` is an extension from now
- 1.3.2:
  - *fixed:* `ServiceContainer.Ctor()`: Proper cleanup on error ([details](https://github.com/Sholtee/injector/commit/e41e90a64063b77c9cebe0403b552ef729bdb6e3 ))
  - *done:* Strict Composite behavior  
- 2.0.0-preview1:
  - *breaking:* removed `ServiceReference.SupressDispose()` method & `ServiceReference.DisposeSupressed` property
  - *breaking:* `ServiceContainer.GetEnumerator()` no longer clones the container (enumerating is still thread safe)
  - *breaking:* dropped `netstandard1.6` support
  - *breaking:* new `IComposite` layout
  - *breaking:* `AbstractServiceEntry` moved to the public API
  - *breaking:* `ServiceReference` moved to the public API
  - *breaking:* removed `Solti.Utils.DI.Annotations` namespace
  - *added:* `IAsyncDisposable` support
  - *done:* using nullable reference types
  - *fixed:* named services could not be queried via `ServiceProvider` ([details](https://github.com/Sholtee/injector/commit/bd97a0caf2763b3a28d4c511b2ee02006b072b3b ))
- 2.0.0-preview2:
  - *breaking:* In case of not supported interface a `NotSupportedException` is thrown (instead of `InvalidOperationException`)
  - *breaking:* To support async scope disposal `IServiceContainerExtensions.CreateProvider()` returns `Disposable` (which implements `IDisposable` and `IAsyncDisposable`)
  - *added:* Service enumeration support 
  - *improved:* `Injector` creation performance
- 2.0.0-preview3:
  - *breaking:* New `LazyTypeResolver` layout (`ITypeResolver` implemented explicitly, removed misspelled `AssamblyPath` property)
  - *breaking:* `ServiceContainer.[Add|Get]` became virtual, removed `ServiceContainer.Inherit()` method
- 2.0.0-preview4:
  - *breaking:* `IServiceContainer.Add()` returns void
  - *breaking:* Service entries must have owner
  - *breaking:* Dropped `IServiceContainerExtensions.Lazy()` support
  - *added:* [AOP](https://en.wikipedia.org/wiki/Aspect-oriented_programming ) support ([details](https://github.com/Sholtee/injector#aspects ))
  - *added:* Provider recipe
  - *upgraded:* `ProxyGen.NET` to version 2.0.0
- 2.0.0:
  - *added:* `IServiceContainerExtensions.Setup()` lookup can be restricted (with patterns)
- 2.0.1:
  - *done:* Small optimizations under the hood
- 2.1.0:
  - *done:* Extended AOP support (interceptors can be created by factory function)
- 3.0.0-preview1:
  - *fixed:* Missing configuration file
  - *breaking:* Changed type of `AbstractServiceEntry.Instance` (`ServiceReference` -> `IServiceReference`)
  - *breaking:* Changed `ServiceRegistrationAttribute` layout (removed `Register()` method)
  - *breaking:* All general interfaces have been moved to `Solti.Utils.DI.Interfaces` namespace
  - *done:* Renamed assembly
  - *added:* Separate assmebly for general interfaces
- 3.0.0-preview2:
  - *fixed:* Missing configuration file (again)
- 3.0.0:
  - *fixed:* Some build related issues
- 3.0.1:
  - *fixed:* Broken performance test
- 3.1.0:
  - *added:* `[Proxy|Duck]Factory.AssemblyCacheDirectory` property
  - *done:* `IInjector` gets descendant of `IDisposableEx`
- 3.2.0:
  - *added:* `ModuleInvocationBuilder` (extension) class
  - *upgraded:* `ProxyGen.NET` to version 3.0.0 (among others it fixes the misbehaving `TransactionManager` proxy)
- 3.3.0:
  - *fixed:* Typo in Resources.resx
  - *fixed:* `ServiceActivatorAttribute` can be placed on proxy constructors
  - *added:* `ParameterValidator.Aggregate` property
- 3.3.1:
  - *obsolete:* `ModuleInvocationBuilder`
  - *upgraded:* `ProxyGen.NET` to version 3.0.2
- 3.4.0:
  - *removed:* Obsolete `ModuleInvocationBuilder` class. You can find its successor in [RPC.NET](https://sholtee.github.io/rpc/doc/Solti.Utils.Rpc.Internals.ModuleInvocationBuilder.html ) package
  - *obsolete:* `[Proxy|Duck]Factory.AssemblyCacheDirectory` property. It is replaced by the `PreserveProxyAssemblies` property.
- 3.4.1:
  - *fixed:* Config reading issue
- 4.0.0-preview1:
  - *breaking:* `Factory()`, `Service()` recipe has been moved to the interfaces project
  - *breaking:* Renamed `AspectAttribute.GetInterceptor()` -> `AspectAttribute.GetInterceptorType()`
  - *breaking:* Renamed (extension related) classes
- 4.0.0-preview2:
  - *added:* Custom `Lifetime` support
- 4.0.0-preview3:
  - *breaking:* `Provider()`, `Proxy()` recipe has been moved to the interfaces project
  - *breaking:* Configuration moved to `runtimeconfig.json`
  - *breaking:* Removed obsolete [Duck|Proxy]Factory.AssemblyCacheDirectory property
- 4.0.0-preview4:
  - *breaking:* Dropped *Injector.NET.Extensions* project
  - *upgraded:* `ProxyGen.NET` to version 4.0.0-preview
- 4.0.0-preview5:
  - *breaking:* Dropped `[Proxy|Duck]Factory.PreserveProxyAssemblies` property (you can tweak assembly caching in your [app config](https://github.com/Sholtee/proxygen#caching-the-generated-assembly ) )
  - *breaking:* New `runtimeconfig.json` layout
  - *breaking:* `Lifetime` class moved to interfaces project
  - *breaking:* `Instance` related logic moved to interfaces project
  - *breaking:* `AbstractServiceEntry.Instance` property has been replaced with `Instances`
  - *breaking:* Changed `AbstractServiceEntry.SetInstance()` layout
  - *introduced:* *Pooled* lifetime
  - *introduced:* `Service()` recipe explicit args support
  - *introduced:* `IServiceGraph` (built in) service
  - *introduced:* `IScopeFactory` (built in) service
  - *introduced:* `AbstractServiceEntry.State` property
  - *imporved:* Aspect processing performance
- 4.0.0-preview6:
  - *fixed:* Missing resource cleanup when `Injector` was disposed asynchronously
  - *fixed:* `OptionsAttribute` had no effect on proxy types generated by ProxyGen.NET
- 4.0.0-preview7:
  - *fixed:* Missing optional dependency support in `Resolver.GetExtended()`
- 4.0.0-preview8:
  - *improved:* `Resolver` performance
  - *done:* Some code cleanup
- 4.0.0:
  - *upgraded:* `ProxyGen.NET` to version 4.0.0
- 4.0.1:
  - *fixed:* Moved `ServiceEntryExtensions` to interfaces project (i consider it as a fix since it was declared accidentally in a wrong place)
  - *fixed:* `IServiceContainerBasicExtensions.Provider()` failed on generic service registration
  - *fixed:* Missing validation in `PooledLifetime`
- 5.0.0:
  - *breaking:* Dropped "custom converter"s
  - *breaking:* Renamed `IServiceGraph` -> `IServicePath`
  - *introduced:* `Solti.Utils.DI.Diagnostics` namespace
  - *introduced:* `IInjector.TryGetReference()` method
- 5.0.1:
  - *updated:* Dependencies
- 6.0.0-preview1:
  - *done:* Logic has been rewritten from the scratch with performance in mind
  - *breaking:* Temporarily removed *Diagnostics* package (due to compatibility issues)
  - *breaking:* New `IServiceCollection` layout (now it is just a `ISet<AbstractServiceEntry>` descendant)
  - *breaking:* Dropped `ServiceContainer` class (it is substituted with the `ServiceCollection` class)
  - *breaking:* Dropped `runtimeconfig` configuration. Scopes can be tweaked via the `ScopeOptions` class.
  - *breaking:* Dropped concept of service references (so `IServiceReference` has been removed)
  - *breaking:* `Injector.TryGet()` doesn't eat the `ServiceNotFoundException` if it was thrown due to a missing dependency.
  - *breaking:* New `AbstractServiceEntry` layout
  - *breaking:* New `IServicePath` layout
  - *breaking:* New `InterfaceInterceptor<>` layout. For more information see [this](https://github.com/Sholtee/proxygen#migrating-from-version ) or [that](https://sholtee.github.io/proxygen/doc/Solti.Utils.Proxy.InterfaceInterceptor-1.html )
  - *introduced:* `ScopeFactory` class
  - *introduced:* Property injection support (Properties should be annotated with the `InjectAttribute`)
  - *introduced:* `IServiceRegistry` interface
  - *introduced:* `IInjectorExtensions.Meta()` method
  - *extended:* `ServiceEntryStates` enum
- 6.0.0-preview2:
  - *done:* Exposed `ServiceCollection` class
  - *added:* `ScopeFactory.Create()` overload
- 6.0.0:
  - *added:* Package "readme"
- 6.1.0:
  - *improved:* Module initialization
  - *introduced:* `IServiceCollectionBasicExtensions.Remove()` method
  - *introduced:* `IServiceCollectionBasicExtensions.Provider()` explicit argument support
  - *exposed:* `ServiceIdComparer` class
- 6.2.0:
  - *updated:* `ProxyGen.NET` to v6
  - *updated:* `Roslyn` to v4
  - *introduced:* On service creation, explicit arguments can be passed as regular objects
  - *done:* test against `netcoreapp3.0`, `net5.0`, `net6.0`
- 6.2.1:
  - *updated:* `ProxyGen.NET` to v6.0.1 (v6.0.0 had a nasty performance issue)
- 7.0.0-preview1:
  - *breaking:* Slightly modified `AbstractServiceEntry` layout
  - *breaking:* Removed `ScopeFactory.Create()` `cancellation` parameter (root now can be created in reasonable time)
  - *breaking:* Removed `ScopeOptions.MaxSpawnedTransientServices` property (due to performance considerations)
  - *breaking:* Dropped `IServiceRegistry`, `IServicePath`, `IserviceDefinition`, `IServiceId`, `ISupportsSpecialization` interfaces
  - *breaking:* Dropped concept of scope metadata
  - *breaking:* Removed obsolete `IServiceCollectionBasicExtensions.Service()`, `IInjectorAdvancedExtensions.Instantiate()` overloads
  - *breaking:* Removed `ProxyFactory` & `DuckFactory` classes (ProxyGen v7 provides almost identical functionality)
  - *improved:* Service resolution performance (scope logic has been rewritten from the scratch)
  - *improved:* Significantly reduced file size
  - *updated:* `ProxyGen.NET` to v7.0.0-preview1
- 7.0.0-preview2:
  - *breaking:* Modified `AbstractServiceEntry` layout
  - *introduced:* Expression based factory registration 
  - *introduced:* *Ahead Of Time* dependency resolution
  - *done:* Dependency visualisation is back
  - *updated:* `ProxyGen.NET` to v7.0.0-preview6
- 7.0.0-preview3:
  - *introduced:* New service resolver concept
- 7.0.0-preview4:
  - *improved:* Service resolution performance (using -optional- AOT resolution)
  - *improved:* Root scope creation performance (using bulked expression compilation)
  - *breaking:* Factory or proxy are provided as expressions
  - *breaking:* Modified `AbstractServiceEntry` layout
  - *introduced:* `IInjector.Tag` property
  - *done:* test against `net7.0` (at the moment just in case of local builds due to OpenCover issues)